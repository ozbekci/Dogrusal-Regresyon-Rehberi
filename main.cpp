#include "LinearRegression.hpp"
#include <iostream>

int main()
{
    //     Aylar	Satislar
    // 0	8	19671.5
    // 1	10	23102.5
    // 2	11	18865.5
    // 3	13	21762.5
    // 4	14	19945.5
    // 5	19	28321.0
    // 6	19	30075.0
    // 7	20	27222.5
    // 8	20	32222.5
    // 9	24	28594.5
    // 10	25	31609.0
    // 11	25	27897.0
    // 12	25	28478.5
    // 13	26	28540.5
    // 14	29	30555.5
    // 15	31	33969.0
    // 16	32	33014.5
    // 17	34	41544.0
    // 18	37	40681.5
    // 19	37	46970.0
    // 20	42	45869.0
    // 21	44	49136.5
    // 22	49	50651.0
    // 23	50	56906.0
    // 24	54	54715.5
    // 25	55	52791.0
    // 26	59	58484.5
    // 27	59	56317.5
    // 28	64	61195.5
    // 29	65	60936.0

    float x_train[] = {8, 10, 13, 14, 19, 19, 20, 20, 24, 25, 29, 31, 32, 37, 37, 42, 44, 50, 55, 65};
    float x_test[] = {11, 64, 26, 25, 59, 54, 59, 25, 34, 49};

    float y_train[] = {19671.5, 23102.5, 21762.5, 19945.5, 28321.0, 30075.0, 27222.5, 32222.5, 28594.5, 28478.5, 30555.5, 33969.0, 33014.5, 40681.5, 46970.0, 45869.0, 49136.5, 56906.0, 52791.0, 60936.0};
    float y_test[] = {18865.5, 61195.5, 28540.5, 31609.0, 58484.5, 54715.5, 56317.5, 27897.0, 41544.0, 50651.0};

    // Linear Regression modelini oluştur ve eğit
    LinearRegression lr;
    lr.fit(x_train, y_train, 20);

    // Make predictions on test data
    std::cout << "Test Predictions:\n";
    for (int i = 0; i < 10; i++)
    {
        float prediction = lr.predict(x_test[i]);
        std::cout << "X: " << x_test[i] << " -> Prediction: " << prediction
                  << ", Actual: " << y_test[i] << std::endl;
    }

    return 0;
}